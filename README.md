# 航空照片档案管理系统 (Aviation Photo Archive)

## 项目简介

这是一个用于管理和浏览航空照片的Web应用程序。项目通过扫描本地照片文件夹，自动提取照片信息（如飞机注册号、机型、航空公司、拍摄地点等），并以卡片形式展示，支持关键词搜索和标签过滤。

## 功能特点

- **照片信息展示**：以卡片形式显示每张照片的详细信息，包括飞机注册号、机型、航空公司、拍摄地点、涂装等。
- **智能搜索**：支持关键词搜索（可空格分隔多个关键词），自动匹配中文和拼音。
- **标签过滤**：可根据标签（如特殊涂装）动态过滤照片。
- **响应式设计**：适配不同屏幕尺寸，卡片布局自动调整。
- **本地服务器**：提供批处理脚本，一键启动本地HTTP服务器进行预览。

## 文件结构

```
项目根目录/
│
├── index.html          # 主网页文件（前端界面）
├── data.csv           # 照片数据文件（由scan.js生成）
├── main.csv           # 映射表文件（机型、航空公司、地点等元数据）
├── scan.js            # Node.js脚本，用于扫描照片文件夹并生成data.csv
├── server.bat         # Windows批处理文件，启动本地服务器
└── （其他资源文件）
```

### 主要文件说明

- **index.html**（文档2）：前端网页，包含搜索、标签选择、卡片展示等功能。使用Papa Parse库解析CSV数据。
- **main.csv**（EXCEL3）：映射表，包含机型（model）、航空公司（airline）、地点（location）的元数据，用于前端匹配显示。
- **scan.js**（文档4）：Node.js脚本，扫描指定根目录（如`E:/摄像存档/航空摄影`）下的照片文件夹，解析文件夹结构（格式：`机型/航空公司/注册号_涂装_地点`），并生成data.csv。
- **server.bat**（文档5）：批处理脚本，自动启动Python HTTP服务器（端口8080），并打开浏览器访问`http://localhost:8080`。
- **data.csv**（示例数据如EXCEL1）：由scan.js生成的照片数据表，包含字段：id、registration（注册号）、model_id（机型ID）、airline_id（航空公司ID）、location_id（地点ID）、livery（涂装）、tags（标签）、remark（备注）、folder（文件夹路径）。

## 快速开始

### 前提条件
- 安装Node.js（运行scan.js所需）
- 安装Python（用于启动本地服务器）
- 照片文件夹需按结构组织：`机型/航空公司/注册号_涂装_地点`（例如：`A320ceo/中国东方航空/B-6802_双流`）

### 步骤
1. **生成数据文件**：
   - 修改`scan.js`中的`ROOT_DIR`变量为您的照片根目录路径。
   - 在终端执行：`node scan.js`，生成`data.csv`。
   
2. **启动本地服务器**：
   - 双击运行`server.bat`，或命令行执行：`python -m http.server 8080`。
   - 浏览器自动打开`http://localhost:8080`，即可浏览照片档案。

3. **使用界面**：
   - 在搜索框输入关键词（如注册号`B-6802`或地点`海口`），支持拼音搜索（如输入`haikou`匹配`海口`）。
   - 点击标签（如`Special Livery`）过滤照片。
   - 卡片悬停有浮动效果，展示详细信息。

## 自定义配置

- **修改映射表**：编辑`main.csv`，可添加或更新机型、航空公司、地点的元数据。
- **调整样式**：修改`index.html`中的CSS样式，如卡片布局、颜色等。
- **扩展标签**：在`data.csv`的`tags`字段添加自定义标签，前端会自动提取。

## 注意事项

- 数据生成依赖文件夹命名规范，请确保照片路径符合`机型/航空公司/注册号_涂装_地点`结构。
- 首次使用需运行`scan.js`生成数据，后续新增照片后需重新运行以更新。
- 本地服务器仅用于测试，生产环境需部署到Web服务器。

## 技术栈

- 前端：HTML5、CSS3、JavaScript（使用Papa Parse解析CSV）
- 后端：Node.js（文件扫描）、Python（HTTP服务器）
- 数据格式：CSV

---

这是一个简单的本地照片管理系统，适合航空爱好者整理和浏览拍摄作品。如有问题，请检查文件路径和数据格式。
